name: Releases

on: 
  push:
    tags:
    - 'v[0-9]+'

jobs:
  create_branch:
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/master'  
    steps:
      - uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Create new branch
        run: |
          git checkout -b release-${{ github.ref_name }}
          git push -u origin release-${{ github.ref_name }}

  # build:
  #   runs-on: ubuntu-latest
  #   permissions:
  #     contents: write
  #   steps:
  #   - uses: actions/checkout@v3
  #     with:
  #       fetch-depth: 0
  #   - uses: ncipollo/release-action@v1
  #     with:
  #       generateReleaseNotes: true,
  #       allowUpdates: true,
