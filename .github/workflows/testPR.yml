name: Test and Lint all commits on Pull Request

on: [pull_request, push]

jobs:
  test-and-lint:
    runs-on: ubuntu-latest
    steps:
      
      - name: Get sourcecode
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
          
      - name: Install dependencies
        run: |
          npm ci
          npm i --save-dev eslint-config-react-app eslint
          npx playwright install --with-deps chromium
          
      - name: Test and lint every new commit
        run: |
          for commit in $(git rev-list ${{ github.event.before }}..${{ github.sha }}); do
              echo $commit
          done          
